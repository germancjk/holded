(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{199:function(t,e,a){"use strict";a.r(e);var n=a(5);function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){i(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var o={components:{},data:function(){return{userId:localStorage.getItem("user_id"),name:"",percent:"",edit:!1,id:null,submitName:"Hecho",showError:!1,messageError:""}},methods:r({handleSubmit:function(t){var e=this;t.preventDefault(),this.name.length>0?this.edit?axios.patch("".concat(this.baseApiUrl,"/api/tax/").concat(this.id),{user_id:this.userId,name:this.name,percent:this.percent}).then((function(t){e.name="",e.percent="",e.submitName="Hecho",e.getTaxes()})):axios.post("".concat(this.baseApiUrl,"/api/tax"),{user_id:this.userId,name:this.name,percent:this.percent}).then((function(t){e.name="",e.percent="",e.getTaxes()})):(this.showError=!0,this.messageError="Error chars length")},update:function(t){var e=this;this.edit=!0,axios.get("".concat(this.baseApiUrl,"/api/tax/").concat(t)).then((function(a){e.submitName="Actualizar",e.id=t,e.name=a.data.name,e.percent=a.data.percent}))},remove:function(t,e){var a=this;t>0&&this.$swal({title:"Â¿Eliminar '".concat(e,"'?"),icon:"warning",showCancelButton:!0,confirmButtonText:"Si, borrar",cancelButtonText:"No, cancelar",showCloseButton:!0}).then((function(e){e.value&&axios.delete("".concat(a.baseApiUrl,"/api/tax/").concat(t),{user_id:a.userId}).then((function(t){a.getTaxes()}))}))}},Object(n.b)(["getTaxes"])),mounted:function(){this.showError=!1,this.getTaxes()},computed:r({},Object(n.c)(["taxes","baseApiUrl"]))},c=a(4),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid",attrs:{id:"board"}},[a("div",{staticClass:"container"},[a("small",[a("ul",{staticClass:"list-inline-mb-0 pl-0"},[a("li",{staticClass:"list-inline-item"},[a("router-link",{attrs:{to:{name:"board"}}},[t._v("Panel")]),t._v(" >")],1),t._v(" "),a("li",{staticClass:"list-inline-item"},[t._v("Herramientas >")]),t._v(" "),a("li",{staticClass:"list-inline-item"},[t._v("Impuestos")])])]),t._v(" "),a("p",{staticClass:"lead"},[t._v("Taxes")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t.showError?a("div",{staticClass:"alert alert-danger"},[t._v("\n          "+t._s(t.messageError)+"\n        ")]):t._e()])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-12"},[a("label",{attrs:{for:"name"}},[t._v("Nombre")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name","aria-describedby":"name",required:"",autofocus:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-12"},[a("label",{attrs:{for:"percent"}},[t._v("Porcentaje")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.percent,expression:"percent"}],staticClass:"form-control",attrs:{type:"text",id:"percent","aria-describedby":"percent",required:""},domProps:{value:t.percent},on:{input:function(e){e.target.composing||(t.percent=e.target.value)}}})])]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.handleSubmit}},[t._v(t._s(t.submitName))])])])])])]),t._v(" "),a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),a("tbody",t._l(t.taxes,(function(e,n){return a("tr",[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.percent))]),t._v(" "),a("td",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-sm btn-outline-info",attrs:{type:"button",name:"button"},on:{click:function(a){return t.update(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"edit"}}),t._v(" Editar\n                      ")],1),t._v(" "),a("button",{staticClass:"btn btn-sm btn-outline-danger",attrs:{type:"button",name:"button"},on:{click:function(a){return t.remove(e.id,e.name)}}},[a("font-awesome-icon",{attrs:{icon:"trash"}}),t._v(" Eliminar\n                      ")],1)])])})),0)])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("Nombre")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Porcentaje")]),this._v(" "),e("th",{attrs:{scope:"col"}})])])}],!1,null,null,null);e.default=l.exports}}]);